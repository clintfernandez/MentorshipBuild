<!DOCTYPE html>
<html>
  <head>
    <title>Create Account</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>

  <body onload="fillMentors()">
    
    <header>
      <img src="toplogo.png">
      <div class="navigation">
        <table>
          <tr>
              <td><a href="index.html">Home</a></td>
          </tr>
          <tr>
              <td><a href="create_account.html">Create Account</a></td>
          </tr>
          <tr>
              <td><a href="login.html">Login</a></td>
          </tr>
          <tr>
            <td><a href="review.html">Leave a comment/review</a></td>
          </tr>
        </table>
      </div>
    </header>


    <main>

      <div class="title">
        <h1>Around The Corner</h1>
        <p id="description_one"> <strong>Welcome!</strong> Request Mentors Below: </p>
        <div id="fillDiv"></div>
      </div>

    <script src="https://mysqljs.com/mysql.js" type="text/javascript"></script>
    <script>
      
      function fillMentors() { 

        let sqlStmt = "SELECT * FROM Matches WHERE EmployeeType like \"Mentor\";"
        /*if (document.getElementById("a").hasChildNodes("ul")){
        document.getElementById("a").removeChild("ul");
      }*/
        var option = document.createElement("div");        
        MySql.Execute("107.180.1.16", "group62021", "2021group6", "group62021", sqlStmt, function (data){
               for (i=0; i<data.Result.length; i++) {
               	var name = document.createElement("p");
               	var email = document.createElement("p");
               	var availability = document.createElement("p");
               	var guts = '<button>Request</button>';
                name.innerHTML = data.Result[i].Name;
                email.innerHTML = data.Result[i].Email;
                availability.innerHTML = data.Result[i].Availability;
                
                console.log(data)
                option.append(name)
                option.append(email)
                option.append(availability)
				$($.trim(guts)).appendTo(option).bind('click', data.Result[i].EmployeeID, magick);
        		document.getElementById("fillDiv").append(option);

        }
        }
        )
    }
        function magick(data) {
        	console.log(data.data)
          }
    </script>
  </body>

</html>